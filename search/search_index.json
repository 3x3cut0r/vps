{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"VPS - Virtual Private Server here you will find installation scripts config files docker related files howto's and more Find Me GitHub DockerHub License - This project is licensed under the GNU General Public License - see the gpl-3.0 for details.","title":"Startseite"},{"location":"#vps-virtual-private-server","text":"here you will find installation scripts config files docker related files howto's and more","title":"VPS - Virtual Private Server"},{"location":"#find-me","text":"GitHub DockerHub","title":"Find Me"},{"location":"#license","text":"- This project is licensed under the GNU General Public License - see the gpl-3.0 for details.","title":"License"},{"location":"docker/","text":"","title":"docker"},{"location":"iot/","text":"","title":"iot"},{"location":"iot/CONBEE_II/","text":"Conbee II Conbee II - an universal Zigbee USB-Gateway - offical website installation in LXC container # Find Me # License firmware update 1. installation in LXC container visit deCONZ in Proxmox LXC-Container (Tutorial) use root instead of myadmin skip optional backup of current deCONZ-configuration replace /dev/ttyUSB... with /dev/ttyACM0 2. firmware update visit github.com/dresden-elektronik/deconz-rest-plugin/wiki/Update-deCONZ-manually firmware update using Windows 10 is recommended!!! download deconz-firmware here Find Me GitHub DockerHub License - This project is licensed under the GNU General Public License - see the gpl-3.0 for details.","title":"Conbee II"},{"location":"iot/CONBEE_II/#conbee-ii","text":"Conbee II - an universal Zigbee USB-Gateway - offical website installation in LXC container # Find Me # License firmware update","title":"Conbee II"},{"location":"iot/CONBEE_II/#1-installation-in-lxc-container","text":"visit deCONZ in Proxmox LXC-Container (Tutorial) use root instead of myadmin skip optional backup of current deCONZ-configuration replace /dev/ttyUSB... with /dev/ttyACM0","title":"1. installation in LXC container"},{"location":"iot/CONBEE_II/#2-firmware-update","text":"visit github.com/dresden-elektronik/deconz-rest-plugin/wiki/Update-deCONZ-manually firmware update using Windows 10 is recommended!!! download deconz-firmware here","title":"2. firmware update"},{"location":"iot/CONBEE_II/#find-me","text":"GitHub DockerHub","title":"Find Me"},{"location":"iot/CONBEE_II/#license","text":"- This project is licensed under the GNU General Public License - see the gpl-3.0 for details.","title":"License"},{"location":"linux/","text":"","title":"linux"},{"location":"nginx/","text":"","title":"nginx"},{"location":"opnsense/OPNSENSE/","text":"OPNsense all about OPNsense installation and configuration Index prerequisites 0.1 VM installation (Proxmox) OPNsense defaults 1.9 GeoIP blocking VDSL2 configuration 2.1 modem configuration (DrayTek Vigor 165) 2.2 OPNsense configuration (PPPoE) VoIP (FritzBox + 1und1) 3.1 OPNsense configuration 3.2 FritzBox configuration Dynamic DNS (DuckDNS) 4.1 DuckDNS account 4.2 install os-ddclient plugin 4.3 configure os-ddclient plugin 4.4 ddclient via console (optional) 4.5 disable rebind attack warning Lets Encrypt Certificate via ACME-Client (SSL/HTTPS) 5.1 install os-acme-client plugin 5.2 configure os-acme-client plugin Improve your BufferBloat with Traffic Shaping restart radvd after 24h reconnect # Find Me # License 0. prerequisites 0.1 VM installation (Proxmox) VM Settings VM, not CT! Name: opnsense boot at start = yes OS Type = Linux, Kernel = 6.x - 2.6 Qemu Agent = yes HDD = 64+8 GiB (8GiB will be swap) CPU = 4, Sockets = 1, Typ = x86-64-v2-AES RAM = 4096 (MiB), Balloning = Off Installation (all default) with username = installer, password = opnsense For Minisforum HM90: add PCI Ethernet to VM # on proxmox host: lspci | grep Ethernet # 02:00.0 Ethernet controller: Realtek Semiconductor Co., Ltd. RTL8111/8168/8411 PCI Express Gigabit Ethernet Controller (rev 15) -> 1 GBit # 04:00.0 Ethernet controller: Intel Corporation Ethernet Controller I225-V (rev 01) -> 2.5 GBit cat /etc/network/interfaces # check which device is briged to vmbr0 # -> change it, if it is the wrong one (eno1 or enp4s0, enp4s0 = 2.5 GBit in my case) ls -l /sys/class/net/enp4s0/device # lrwxrwxrwx 1 root root 0 Aug 26 09:09 /sys/class/net/enp4s0/device -> ../../../0000:04:00.0 ls -l /sys/class/net/eno1/device # ls: cannot access '/sys/class/net/eno1/device': No such file or directory # # -> enp4s0 (04:00.0) is the device which has an ip ! # -> means 02:00.0 is not connected and is available for pci passthrough! Proxmox VM Settings -> Hardware -> Add PCI-Device -> Raw Device -> 0000:02:00.0 -> All Functions -> Add After installation, choose Option 8 (Shell), disable Firewall once, to be able to logon: service pf onestop connect to WebIF, update to latest version (not major release) from your configuration file connect to WebIF, install the following packages os-acme-client os-chrony os-crowdsec os-ddclient os-dyndns os-igmp-proxy os-qemu-guest-agent os-siproxd os-theme-cicada os-upnp os-vnstat os-wireguard connect to WebIF, restore your backuped configuration 1. OPNsense defaults 1.9 GeoIP blocking for GeoIP blocking just follow the instructions here create an alias \"GeoIP\" for all countries you want to block create a rule to block this alias \"GeoIP\" on your WAN interface 2. VDSL2 configuration 2.1 modem configuration (DrayTek Vigor 165) Flash your Firmware to the newest MDM2 (Vigor165_v4.2.4_MDM2.zip) MDM2 is the most stable firmware for telekom in germany !!! Configure a LAN IP: (e.g.: 192.168.x.x /24) if you want your modem webinterface accessible from your LAN side, the LAN IP should be in the same subnet. disable DHCP-Server enable Bridge-Mode disable VLAN-Tagging for ADSL/VDSL (this is done by OPNsense) optional: disable HTTP-webinterface or enable the redirect to HTTPS optional: disable unnecessary services like ftp, telnet, ... 2.2 OPNsense configuration (PPPoE) PPPoE Configuration Interfaces -> Other Types -> VLAN -> create new VLAN: Parent Interface: VLAN Tag: 7 Description: VDSL2 Interfaces -> Assignments -> WAN: Save Interfaces -> WAN: IPv4 Configuration Type: PPPoE IPv6 Configuration Type: DHCPv6 PPPoE configuration: Username: \\<your provider login email> (e.g.: 1und1/ui1234-567@online.de) Password: \\<your provider login password> Dial on Demand: CHECK Idle Timeout: 00 (two \"0\"!) DHCPv6 client configuration: Request only an IPv6 prefix: CHECK Prefix delegation size: 56 Send IPv6 prefix hint: CHECK Use IPv4 connectivity: CHECK 3. VoIP (FritzBox - 1und1) 3.1 OPNsense configuration Firewall / Aliases -> add: Name: FritzBox Type: Host(s) Content: Description: FritzBox Firewall / Aliases -> add: Name: 1und1_SIP_Server Type: Host(s) Content: 212.227.124.129, 212.227.124.130 Description: 1und1 SIP Server Firewall / Aliases -> add: Name: 1und1_SIP_RTP_Server Type: Network(s) Content: 212.227.124.0/28,212.227.124.64/29,212.227.124.128/29,212.227.67.32/30,212.227.67.128/28,212.227.67.192/28,212.227.18.128/28,212.227.18.192/28 Description: 1und1 SIP/RTP Server Firewall / Aliases -> add: Name: 1und1_VoIP_Ports Type: Port(s) Content: 5060:5061, 5070:5109 Description: 1und1 VoIP Port Range Firewall / NAT / Port Forward -> add: Interface: WAN TCP/IP Version: IPv4 Protocol: UDP Destination: WAN address Destination port range: from 1und1_VoIP_Ports to 1und1_VoIP_Ports (Alias) Redirect target ip: FritzBox (Alias) Redirect target port: 1und1_VoIP_Ports Description: Fritzbox VoIP Firewall / NAT / Outbound: set to Hybrid outbound NAT rule generation Firewall / NAT / Outbound -> add: Interface: WAN TCP/IP Version: IPv4 Protocol: UDP Source address: FritzBox (Alias) Source port: any Destination address: any Destination port: any Translation / target: interface address Static-port: check Description: FritzBox VoIP Firewall / Rules / LAN -> add: Action: Pass Quick: check Interface: LAN Direction: in TCP/IP Version: IPv4 Protocol: UDP Source: FritzBox (Alias) Source port range: from 1und1_VoIP_Ports to 1und1_VoIP_Ports Destination: any Destination port range: from any to any Description: VoIP FritzBox Firewall / Rules / WAN -> add: Action: Pass Quick: check Interface: WAN Direction: in TCP/IP Version: IPv4 Protocol: UDP Source: 1und1_SIP_RTP_Server Source port range: from any to any Destination: This Firewall Destination port range: from 1und1_VoIP_Ports to 1und1_VoIP_Ports (Alias) Description: 1und1 SIP Server (VoIP) Firewall -> Settings -> Advanced: Miscellaneous / Firewall Optimization: conservative 3.3 FritzBox configuration Telephony / Telephony Numbers -> add (optional): Registrar: sip.1und1.de STUN/Proxy: stun.1und1.de Contact internet telephony: Only via IPv4 Transport Protocol: Automatic Telephony / Telephony Numbers / Line Settings: Telephony Connection / Kep port sharing of the internet router enabled for telephony: check Telephony Connection / Keep port forwarding enabled every: 30 sec. 4. Dynamic DNS (DuckDNS) 4.1 DuckDNS account create an account or login into your DuckDNS account create a token and add a domain to your account (e.g.: http://3x3cut0r.duckdns.org) copy your token into your clipboard 4.2 install os-ddclient plugin Settings / Firmware / Plugins: install os-ddclient reload site (F5) to see the plugin under Services 4.3 configure os-ddclient plugin Services / Dynamic DNS / Settings -> Add: Service: DuckDNS Username: Password: Hostname: Check ip method: Interface Force SSL: Check Interface to monitor: WAN 4.4 ddclient via console (optional) if WAN as 'Check ip method' is not working: ssh to your OPNsense and open a shell change /usr/local/etc/ddclient.conf to: (if: WAN -> pppoe0) daemon=300 syslog=yes # log update msgs to syslog pid=/var/run/ddclient.pid # record PID in file. ssl=yes ... use=if, if=pppoe0, \\ protocol=duckdns, \\ login=<your DuckDNS E-Mail> , \\ password= <your DuckDNS Token> \\ 3x3cut0r.duckdns.org hints: you need to rechange the ddclient.conf via shell after changing anything via GUI you can do more with the console as with the GUI because not all options are integrated with the GUI (like if=web as update method for ddnss.de for example) 4.5 disable rebind attack warning to prevent ERROR: rebind attack dynamic dns: System / Settings / Administration / Alternate Hostnames: enter your ddns domains (e.g.: '3x3cut0r.duckdns.org' - space-separated list) DONE 5. Lets Encrypt Certificate via ACME-Client (SSL/HTTPS) 5.1 install os-acme-client plugin Settings / Firmware / Plugins: install os-acme-client reload site (F5) to see the plugin under Services 5.2 configure os-acme-client plugin (HTTP-01 - single domain) Services / ACME Client / Settings : Enable Plugin: Check Enable Auto Renewal: Check Services / ACME Client / Accounts / Accounts -> Add : Name: Description: E-Mail Address: ACME CA: Let's Encrypt (default) Save Services / ACME Client / Challenge Types / Challenge Types -> Add : Challenge HTTP-01: (single Domain) (for other Challenges see github.com/opnsense/plugins/pull/66 ) Name: LE HTTP-01 Challenge Description: LE HTTP-01 Challenge Challenge Type: HTTP-01 HTTP Service: OPNsense Web Service (automatic port forward) IP Auto-Discovery: Check Interface: WAN IP Addresses: < leave blank > Save Services / ACME Client / Automations / Automations -> Add : Enabled: Check Name: Restart OPNsense Web UI Description: Restart OPNsense Web UI Run Command: Restart OPNsense Web UI Save Services / ACME Client / Certificates / Certificates -> Add : Enabled: Check Common Name: Description: LE Certificate Alt Names: < you can add more domains or subdomains here > ACME Account: Challenge Type: Auto Renewal: Check Renewal Interval: 30 Key Length: 4096 bit (default) OCSP Must Staple: Unchecked Automations: < your automation created in 4. > DNS Alias Mode: Not using DNS alias mode Save Services / ACME Client / Certificates / Certificates : Issue/Renew All Certificates Check if your Certifice is issued under Services / ACME Client / Log Files: AcmeClient: imported ACME X.509 certificate: 3x3cut0r.duckdns.org AcmeClient: imprting ACME CA: R3 AcmeClient: successfully issued/renewed certificate: 3x3cut0r.duckdns.org ... System / Settings / Administration / SSL Certificate: SSL Certificate: < select your generated ACME Client Certificate > Save DONE 6. Improve your BufferBloat with Traffic Shaping if you have poor video conferencing performance, lags or it feels slow check out if you have BufferBloat on this site (speedtest) follow this guide to improve your BufferBloat with Traffic Shaping (only IF your ISP supports IPv6 !!!) 7. restart radvd after 24h reconnect /usr/local/opnsense/service/conf/actions.d/actions_radvd.conf [restart] command:/usr/local/sbin/pluginctl -s radvd restart type:script description:Restart radvd service configd restart create cron: */10 4 * * * restart radvd Find Me GitHub DockerHub License - This project is licensed under the GNU General Public License - see the gpl-3.0 for details.","title":"OPNsense"},{"location":"opnsense/OPNSENSE/#opnsense","text":"all about OPNsense installation and configuration","title":"OPNsense"},{"location":"opnsense/OPNSENSE/#index","text":"prerequisites 0.1 VM installation (Proxmox) OPNsense defaults 1.9 GeoIP blocking VDSL2 configuration 2.1 modem configuration (DrayTek Vigor 165) 2.2 OPNsense configuration (PPPoE) VoIP (FritzBox + 1und1) 3.1 OPNsense configuration 3.2 FritzBox configuration Dynamic DNS (DuckDNS) 4.1 DuckDNS account 4.2 install os-ddclient plugin 4.3 configure os-ddclient plugin 4.4 ddclient via console (optional) 4.5 disable rebind attack warning Lets Encrypt Certificate via ACME-Client (SSL/HTTPS) 5.1 install os-acme-client plugin 5.2 configure os-acme-client plugin Improve your BufferBloat with Traffic Shaping restart radvd after 24h reconnect # Find Me # License","title":"Index"},{"location":"opnsense/OPNSENSE/#0-prerequisites","text":"","title":"0. prerequisites"},{"location":"opnsense/OPNSENSE/#01-vm-installation-proxmox","text":"VM Settings VM, not CT! Name: opnsense boot at start = yes OS Type = Linux, Kernel = 6.x - 2.6 Qemu Agent = yes HDD = 64+8 GiB (8GiB will be swap) CPU = 4, Sockets = 1, Typ = x86-64-v2-AES RAM = 4096 (MiB), Balloning = Off Installation (all default) with username = installer, password = opnsense For Minisforum HM90: add PCI Ethernet to VM # on proxmox host: lspci | grep Ethernet # 02:00.0 Ethernet controller: Realtek Semiconductor Co., Ltd. RTL8111/8168/8411 PCI Express Gigabit Ethernet Controller (rev 15) -> 1 GBit # 04:00.0 Ethernet controller: Intel Corporation Ethernet Controller I225-V (rev 01) -> 2.5 GBit cat /etc/network/interfaces # check which device is briged to vmbr0 # -> change it, if it is the wrong one (eno1 or enp4s0, enp4s0 = 2.5 GBit in my case) ls -l /sys/class/net/enp4s0/device # lrwxrwxrwx 1 root root 0 Aug 26 09:09 /sys/class/net/enp4s0/device -> ../../../0000:04:00.0 ls -l /sys/class/net/eno1/device # ls: cannot access '/sys/class/net/eno1/device': No such file or directory # # -> enp4s0 (04:00.0) is the device which has an ip ! # -> means 02:00.0 is not connected and is available for pci passthrough! Proxmox VM Settings -> Hardware -> Add PCI-Device -> Raw Device -> 0000:02:00.0 -> All Functions -> Add After installation, choose Option 8 (Shell), disable Firewall once, to be able to logon: service pf onestop connect to WebIF, update to latest version (not major release) from your configuration file connect to WebIF, install the following packages os-acme-client os-chrony os-crowdsec os-ddclient os-dyndns os-igmp-proxy os-qemu-guest-agent os-siproxd os-theme-cicada os-upnp os-vnstat os-wireguard connect to WebIF, restore your backuped configuration","title":"0.1 VM installation (Proxmox)"},{"location":"opnsense/OPNSENSE/#1-opnsense-defaults","text":"","title":"1. OPNsense defaults"},{"location":"opnsense/OPNSENSE/#19-geoip-blocking","text":"for GeoIP blocking just follow the instructions here create an alias \"GeoIP\" for all countries you want to block create a rule to block this alias \"GeoIP\" on your WAN interface","title":"1.9 GeoIP blocking"},{"location":"opnsense/OPNSENSE/#2-vdsl2-configuration","text":"","title":"2. VDSL2 configuration"},{"location":"opnsense/OPNSENSE/#21-modem-configuration-draytek-vigor-165","text":"Flash your Firmware to the newest MDM2 (Vigor165_v4.2.4_MDM2.zip) MDM2 is the most stable firmware for telekom in germany !!! Configure a LAN IP: (e.g.: 192.168.x.x /24) if you want your modem webinterface accessible from your LAN side, the LAN IP should be in the same subnet. disable DHCP-Server enable Bridge-Mode disable VLAN-Tagging for ADSL/VDSL (this is done by OPNsense) optional: disable HTTP-webinterface or enable the redirect to HTTPS optional: disable unnecessary services like ftp, telnet, ...","title":"2.1 modem configuration (DrayTek Vigor 165)"},{"location":"opnsense/OPNSENSE/#22-opnsense-configuration-pppoe","text":"PPPoE Configuration Interfaces -> Other Types -> VLAN -> create new VLAN: Parent Interface: VLAN Tag: 7 Description: VDSL2 Interfaces -> Assignments -> WAN: Save Interfaces -> WAN: IPv4 Configuration Type: PPPoE IPv6 Configuration Type: DHCPv6 PPPoE configuration: Username: \\<your provider login email> (e.g.: 1und1/ui1234-567@online.de) Password: \\<your provider login password> Dial on Demand: CHECK Idle Timeout: 00 (two \"0\"!) DHCPv6 client configuration: Request only an IPv6 prefix: CHECK Prefix delegation size: 56 Send IPv6 prefix hint: CHECK Use IPv4 connectivity: CHECK","title":"2.2 OPNsense configuration (PPPoE)"},{"location":"opnsense/OPNSENSE/#3-voip-fritzbox-1und1","text":"","title":"3. VoIP (FritzBox - 1und1)"},{"location":"opnsense/OPNSENSE/#31-opnsense-configuration","text":"Firewall / Aliases -> add: Name: FritzBox Type: Host(s) Content: Description: FritzBox Firewall / Aliases -> add: Name: 1und1_SIP_Server Type: Host(s) Content: 212.227.124.129, 212.227.124.130 Description: 1und1 SIP Server Firewall / Aliases -> add: Name: 1und1_SIP_RTP_Server Type: Network(s) Content: 212.227.124.0/28,212.227.124.64/29,212.227.124.128/29,212.227.67.32/30,212.227.67.128/28,212.227.67.192/28,212.227.18.128/28,212.227.18.192/28 Description: 1und1 SIP/RTP Server Firewall / Aliases -> add: Name: 1und1_VoIP_Ports Type: Port(s) Content: 5060:5061, 5070:5109 Description: 1und1 VoIP Port Range Firewall / NAT / Port Forward -> add: Interface: WAN TCP/IP Version: IPv4 Protocol: UDP Destination: WAN address Destination port range: from 1und1_VoIP_Ports to 1und1_VoIP_Ports (Alias) Redirect target ip: FritzBox (Alias) Redirect target port: 1und1_VoIP_Ports Description: Fritzbox VoIP Firewall / NAT / Outbound: set to Hybrid outbound NAT rule generation Firewall / NAT / Outbound -> add: Interface: WAN TCP/IP Version: IPv4 Protocol: UDP Source address: FritzBox (Alias) Source port: any Destination address: any Destination port: any Translation / target: interface address Static-port: check Description: FritzBox VoIP Firewall / Rules / LAN -> add: Action: Pass Quick: check Interface: LAN Direction: in TCP/IP Version: IPv4 Protocol: UDP Source: FritzBox (Alias) Source port range: from 1und1_VoIP_Ports to 1und1_VoIP_Ports Destination: any Destination port range: from any to any Description: VoIP FritzBox Firewall / Rules / WAN -> add: Action: Pass Quick: check Interface: WAN Direction: in TCP/IP Version: IPv4 Protocol: UDP Source: 1und1_SIP_RTP_Server Source port range: from any to any Destination: This Firewall Destination port range: from 1und1_VoIP_Ports to 1und1_VoIP_Ports (Alias) Description: 1und1 SIP Server (VoIP) Firewall -> Settings -> Advanced: Miscellaneous / Firewall Optimization: conservative","title":"3.1 OPNsense configuration"},{"location":"opnsense/OPNSENSE/#33-fritzbox-configuration","text":"Telephony / Telephony Numbers -> add (optional): Registrar: sip.1und1.de STUN/Proxy: stun.1und1.de Contact internet telephony: Only via IPv4 Transport Protocol: Automatic Telephony / Telephony Numbers / Line Settings: Telephony Connection / Kep port sharing of the internet router enabled for telephony: check Telephony Connection / Keep port forwarding enabled every: 30 sec.","title":"3.3 FritzBox configuration"},{"location":"opnsense/OPNSENSE/#4-dynamic-dns-duckdns","text":"","title":"4. Dynamic DNS (DuckDNS)"},{"location":"opnsense/OPNSENSE/#41-duckdns-account","text":"create an account or login into your DuckDNS account create a token and add a domain to your account (e.g.: http://3x3cut0r.duckdns.org) copy your token into your clipboard","title":"4.1 DuckDNS account"},{"location":"opnsense/OPNSENSE/#42-install-os-ddclient-plugin","text":"Settings / Firmware / Plugins: install os-ddclient reload site (F5) to see the plugin under Services","title":"4.2 install os-ddclient plugin"},{"location":"opnsense/OPNSENSE/#43-configure-os-ddclient-plugin","text":"Services / Dynamic DNS / Settings -> Add: Service: DuckDNS Username: Password: Hostname: Check ip method: Interface Force SSL: Check Interface to monitor: WAN","title":"4.3 configure os-ddclient plugin"},{"location":"opnsense/OPNSENSE/#44-ddclient-via-console-optional","text":"if WAN as 'Check ip method' is not working: ssh to your OPNsense and open a shell change /usr/local/etc/ddclient.conf to: (if: WAN -> pppoe0) daemon=300 syslog=yes # log update msgs to syslog pid=/var/run/ddclient.pid # record PID in file. ssl=yes ... use=if, if=pppoe0, \\ protocol=duckdns, \\ login=<your DuckDNS E-Mail> , \\ password= <your DuckDNS Token> \\ 3x3cut0r.duckdns.org hints: you need to rechange the ddclient.conf via shell after changing anything via GUI you can do more with the console as with the GUI because not all options are integrated with the GUI (like if=web as update method for ddnss.de for example)","title":"4.4 ddclient via console (optional)"},{"location":"opnsense/OPNSENSE/#45-disable-rebind-attack-warning","text":"to prevent ERROR: rebind attack dynamic dns: System / Settings / Administration / Alternate Hostnames: enter your ddns domains (e.g.: '3x3cut0r.duckdns.org' - space-separated list) DONE","title":"4.5 disable rebind attack warning"},{"location":"opnsense/OPNSENSE/#5-lets-encrypt-certificate-via-acme-client-sslhttps","text":"","title":"5. Lets Encrypt Certificate via ACME-Client (SSL/HTTPS)"},{"location":"opnsense/OPNSENSE/#51-install-os-acme-client-plugin","text":"Settings / Firmware / Plugins: install os-acme-client reload site (F5) to see the plugin under Services","title":"5.1 install os-acme-client plugin"},{"location":"opnsense/OPNSENSE/#52-configure-os-acme-client-plugin-http-01-single-domain","text":"Services / ACME Client / Settings : Enable Plugin: Check Enable Auto Renewal: Check Services / ACME Client / Accounts / Accounts -> Add : Name: Description: E-Mail Address: ACME CA: Let's Encrypt (default) Save Services / ACME Client / Challenge Types / Challenge Types -> Add : Challenge HTTP-01: (single Domain) (for other Challenges see github.com/opnsense/plugins/pull/66 ) Name: LE HTTP-01 Challenge Description: LE HTTP-01 Challenge Challenge Type: HTTP-01 HTTP Service: OPNsense Web Service (automatic port forward) IP Auto-Discovery: Check Interface: WAN IP Addresses: < leave blank > Save Services / ACME Client / Automations / Automations -> Add : Enabled: Check Name: Restart OPNsense Web UI Description: Restart OPNsense Web UI Run Command: Restart OPNsense Web UI Save Services / ACME Client / Certificates / Certificates -> Add : Enabled: Check Common Name: Description: LE Certificate Alt Names: < you can add more domains or subdomains here > ACME Account: Challenge Type: Auto Renewal: Check Renewal Interval: 30 Key Length: 4096 bit (default) OCSP Must Staple: Unchecked Automations: < your automation created in 4. > DNS Alias Mode: Not using DNS alias mode Save Services / ACME Client / Certificates / Certificates : Issue/Renew All Certificates Check if your Certifice is issued under Services / ACME Client / Log Files: AcmeClient: imported ACME X.509 certificate: 3x3cut0r.duckdns.org AcmeClient: imprting ACME CA: R3 AcmeClient: successfully issued/renewed certificate: 3x3cut0r.duckdns.org ... System / Settings / Administration / SSL Certificate: SSL Certificate: < select your generated ACME Client Certificate > Save DONE","title":"5.2 configure os-acme-client plugin (HTTP-01 - single domain)"},{"location":"opnsense/OPNSENSE/#6-improve-your-bufferbloat-with-traffic-shaping","text":"if you have poor video conferencing performance, lags or it feels slow check out if you have BufferBloat on this site (speedtest) follow this guide to improve your BufferBloat with Traffic Shaping (only IF your ISP supports IPv6 !!!)","title":"6. Improve your BufferBloat with Traffic Shaping"},{"location":"opnsense/OPNSENSE/#7-restart-radvd-after-24h-reconnect","text":"/usr/local/opnsense/service/conf/actions.d/actions_radvd.conf [restart] command:/usr/local/sbin/pluginctl -s radvd restart type:script description:Restart radvd service configd restart create cron: */10 4 * * * restart radvd","title":"7. restart radvd after 24h reconnect"},{"location":"opnsense/OPNSENSE/#find-me","text":"GitHub DockerHub","title":"Find Me"},{"location":"opnsense/OPNSENSE/#license","text":"- This project is licensed under the GNU General Public License - see the gpl-3.0 for details.","title":"License"},{"location":"proxmox/","text":"proxmox all about proxmox installation and configuration Index prerequisites 0.1 BIOS options installation configuration (console) 2.1 first steps 2.2 install usefull tools 2.3 setup ntp server 2.4 setup dns server 2.5 remove subscription notice 2.6 install kernel-headers 2.7 change kernel boot version 2.8 enable iommu for pcie passthrough usage 3.1 browse errors 4.1 network won't start after reboot 4.2 bluetooth errors 4.3 sound errors 4.4 zfs errors 4.5 kvm: exiting hardware virtualization 4.6 no network after update 4.100 (LXC) slow boot times update pve resize container port mirror # Find Me # License 1. installation see official documentation on pve.proxmox.com 2. configuration login via ssh (port 22) or do the steps nativ with a keyboard 2.1 first steps install pve-no-subscription repository skip this step if you have an enterprise subscription rm -f /etc/apt/sources.list.d/pve-enterprise.list wget https://raw.githubusercontent.com/3x3cut0r/vps/main/apt/sources.list.d/pve-no-subscription.list -O /etc/apt/sources.list.d/pve-no-subscription.list update packages apt update && apt upgrade -y 2.2 install usefull tools install pve-no-subscription repository apt install htop iperf iperf3 ncdu ntpdate rfkill 2.3 setup ntp server change /etc/chrony/chrony.conf ... # Use Debian vendor zone. # pool 2.debian.pool.ntp.org iburst server 0.de.pool.ntp.org iburst server 1.de.pool.ntp.org iburst server 2.de.pool.ntp.org iburst ... restart chrony systemctl restart chronyd 2.4 setup dns server change /etc/resolv.conf search local.net nameserver 1.1.1.1 nameserver 1.0.0.1 nameserver 2606:4700:4700::1111 2.5 remove subscription notice need to be done after every update from pve! remove the notice and restart the proxmox service cp /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js.bak sed -Ezi.bak \"s/(Ext.Msg.show\\(\\{\\s+title: gettext\\('No valid sub)/void\\(\\{ \\/\\/\\1/g\" /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js && systemctl restart pveproxy.service revert the changes if something went wrong cp /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js.bak /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js systemctl restart pveproxy.service 2.6 install kernel-headers the kernel-headers should match with your kernel version!!! apt install pve-headers-5.15 pve-headers-5.15.35-2-pve 2.7 change kernel boot version change which kernel should boot proxmox-boot-tool kernel list proxmox-boot-tool kernel add 5.15.35-2-pve # proxmox-boot-tool kernel remove <old-kernel-version>-pve proxmox-boot-tool refresh 2.8 enable iommu for pcie passthrough follow instructions on proxmox.com/wiki and thomas-krenn.com 3. usage 3.1 browse Backend https://proxmox.ip:8006/ 4. errors 4.1 network won't start after reboot systemctl mask ifupdown-pre.service systemctl mask ifupdown2-pre.service systemctl mask systemd-udev-settle.service 4.2 bluetooth errors dmesg error on boot ... [ 3.080602] bluetooth hci0: Direct firmware load for mediatek/BT_RAM_CODE_MT7961_1_2_hdr.bin failed with error -2 [ 3.081688] Bluetooth: hci0: Failed to load firmware file (-2) ... [ 13.102071] Bluetooth: hci0: Execution of wmt command timed out [ 13.102128] Bluetooth: hci0: Failed to send wmt func ctrl (-110) [ 15.917971] usb 5-4: Failed to suspend device, error -110 ... disable bluetooth echo \"blacklist btusb\" > /etc/modprobe.d/bluetooth.conf echo \"blacklist btrtl\" >> /etc/modprobe.d/bluetooth.conf echo \"blacklist btbcm\" >> /etc/modprobe.d/bluetooth.conf echo \"blacklist btintel\" >> /etc/modprobe.d/bluetooth.conf echo \"blacklist bluetooth\" >> /etc/modprobe.d/bluetooth.conf 4.3 sound errors dmesg error on boot ... [ 3.082545] snd_hda_intel 0000:06:00.6: no codecs found! ... disable sound echo \"blacklist btusb\" > /etc/modprobe.d/bluetooth.conf 4.4 zfs errors dmesg error on boot ... [DEPEND] Dependency failed for Import ZFS pools by cache file [DEPEND] Dependency failed for Import ZFS pools by device scanning. ... disable service systemctl disable zfs-import-cache.service systemctl disable zfs-import-scan 4.5 kvm: exiting hardware virtualization install latest kernel + kernel-headers apt install pve-kernel-5.15 pve-kernel-5.15.35-2-pve pve-headers-5.15.35-2-pve pve-headrs-5.15 4.6 no network after update you probably updated your kernel but forgot to install kernel-headers apt install pve-kernel-5.15.12-1-pve 4.99 prevent /etc/network/interfaces inside VM/LXC from overwrite if your /etc/network/interfaces inside a VM/LXC gets overwritten by proxmox, do inside your VM/LXC: touch /etc/network/.pve-ignore.interfaces 4.100 (LXC) slow boot times if your LXC Container boots only in about 4-5 mins -> switch IPv6 from DHCP to SLAAC 5. update pve DO NOT just simple apt update && apt upgrade -y you will run into error 4.6! if the kernel will be updated! you need to install the new pve-headers before updating your kernel! apt update && apt upgrade # abort here with CTRL-C # check if the kernel will be updated # remember the new kernel version # apt install pve-headers-<enter new kernel version here>-pve apt install pve-headers-5.15.35-2-pve apt update && apt upgrade -y # now you need to change the kernel boot version (see 2.7) proxmox-boot-tool kernel list # check which kernel is listet under Manually selected kernels: proxmox-boot-tool kernel add <new-kernel-version>-pve # for example: # proxmox-boot-tool kernel add 5.15.35-2-pve proxmox-boot-tool kernel remove <old-kernel-version>-pve # for example: # proxmox-boot-tool kernel remove 5.15.35-1-pve proxmox-boot-tool refresh 6. resize container VMID: 110 size: 1T # get VMID from your container (e.g.: 110): pct list # stop the vm pct stop 110 # resize vm # pct resize <VMID> <disk> <size> pct resize 110 rootfs 1T # DONE! # ----- # To do it by hand: # get the path of the container disk (e.g.: /dev/pve/vm-110-disk-0): lvdisplay | grep \"LV Path\\|LV Size\" # check the disk first # e2fsck -f <disk> e2fsck -f /dev/pve/vm-210-disk-0 # resize the disk # resize2fs <disk> <size> resize2fs /dev/pve/vm-210-disk-0 1T # extend/reduce the LV size # lvreduce -L <size> <path> # lvextend -L <size> <path> lvextend -L 1T /dev/pve/vm-210-disk-0 # check if the size has changed in the container config file: vi /etc/pve/lxc/110.conf # rootfs: local-lvm:vm-110-disk-0,size=1T # start the vm pct start 110 7. port mirror see codingpackets.com/blog/proxmox-vm-bridge-port-mirror 7.1 install openvswitch-switch apt install openvswitch-switch wget 7.2 create /opt/scripts/network/mirror_ports.sh script mkdir -p /var/lib/vz/snippets/ wget https://raw.githubusercontent.com/3x3cut0r/vps/main/var/lib/vz/snippets/port-mirror.sh -O /var/lib/vz/snippets/port-mirror.sh chmod +x /var/lib/vz/snippets/port-mirror.sh 7.3 apply script to vm/lxc container # for lxc container id 100 pct set 100 --hookscript local:snippets/port-mirror.sh # for vm id 100 qm set 100 --hookscript local:snippets/port-mirror.sh Find Me GitHub DockerHub License - This project is licensed under the GNU General Public License - see the gpl-3.0 for details.","title":"VPS/VDS"},{"location":"proxmox/#proxmox","text":"all about proxmox installation and configuration","title":"proxmox"},{"location":"proxmox/#index","text":"prerequisites 0.1 BIOS options installation configuration (console) 2.1 first steps 2.2 install usefull tools 2.3 setup ntp server 2.4 setup dns server 2.5 remove subscription notice 2.6 install kernel-headers 2.7 change kernel boot version 2.8 enable iommu for pcie passthrough usage 3.1 browse errors 4.1 network won't start after reboot 4.2 bluetooth errors 4.3 sound errors 4.4 zfs errors 4.5 kvm: exiting hardware virtualization 4.6 no network after update 4.100 (LXC) slow boot times update pve resize container port mirror # Find Me # License","title":"Index"},{"location":"proxmox/#1-installation","text":"see official documentation on pve.proxmox.com","title":"1. installation"},{"location":"proxmox/#2-configuration","text":"login via ssh (port 22) or do the steps nativ with a keyboard","title":"2. configuration"},{"location":"proxmox/#21-first-steps","text":"install pve-no-subscription repository skip this step if you have an enterprise subscription rm -f /etc/apt/sources.list.d/pve-enterprise.list wget https://raw.githubusercontent.com/3x3cut0r/vps/main/apt/sources.list.d/pve-no-subscription.list -O /etc/apt/sources.list.d/pve-no-subscription.list update packages apt update && apt upgrade -y","title":"2.1 first steps"},{"location":"proxmox/#22-install-usefull-tools","text":"install pve-no-subscription repository apt install htop iperf iperf3 ncdu ntpdate rfkill","title":"2.2 install usefull tools"},{"location":"proxmox/#23-setup-ntp-server","text":"change /etc/chrony/chrony.conf ... # Use Debian vendor zone. # pool 2.debian.pool.ntp.org iburst server 0.de.pool.ntp.org iburst server 1.de.pool.ntp.org iburst server 2.de.pool.ntp.org iburst ... restart chrony systemctl restart chronyd","title":"2.3 setup ntp server"},{"location":"proxmox/#24-setup-dns-server","text":"change /etc/resolv.conf search local.net nameserver 1.1.1.1 nameserver 1.0.0.1 nameserver 2606:4700:4700::1111","title":"2.4 setup dns server"},{"location":"proxmox/#25-remove-subscription-notice","text":"need to be done after every update from pve! remove the notice and restart the proxmox service cp /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js.bak sed -Ezi.bak \"s/(Ext.Msg.show\\(\\{\\s+title: gettext\\('No valid sub)/void\\(\\{ \\/\\/\\1/g\" /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js && systemctl restart pveproxy.service revert the changes if something went wrong cp /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js.bak /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js systemctl restart pveproxy.service","title":"2.5 remove subscription notice"},{"location":"proxmox/#26-install-kernel-headers","text":"the kernel-headers should match with your kernel version!!! apt install pve-headers-5.15 pve-headers-5.15.35-2-pve","title":"2.6 install kernel-headers"},{"location":"proxmox/#27-change-kernel-boot-version","text":"change which kernel should boot proxmox-boot-tool kernel list proxmox-boot-tool kernel add 5.15.35-2-pve # proxmox-boot-tool kernel remove <old-kernel-version>-pve proxmox-boot-tool refresh","title":"2.7 change kernel boot version"},{"location":"proxmox/#28-enable-iommu-for-pcie-passthrough","text":"follow instructions on proxmox.com/wiki and thomas-krenn.com","title":"2.8 enable iommu for pcie passthrough"},{"location":"proxmox/#3-usage","text":"","title":"3. usage"},{"location":"proxmox/#31-browse","text":"Backend https://proxmox.ip:8006/","title":"3.1 browse"},{"location":"proxmox/#4-errors","text":"","title":"4. errors"},{"location":"proxmox/#41-network-wont-start-after-reboot","text":"systemctl mask ifupdown-pre.service systemctl mask ifupdown2-pre.service systemctl mask systemd-udev-settle.service","title":"4.1 network won't start after reboot"},{"location":"proxmox/#42-bluetooth-errors","text":"dmesg error on boot ... [ 3.080602] bluetooth hci0: Direct firmware load for mediatek/BT_RAM_CODE_MT7961_1_2_hdr.bin failed with error -2 [ 3.081688] Bluetooth: hci0: Failed to load firmware file (-2) ... [ 13.102071] Bluetooth: hci0: Execution of wmt command timed out [ 13.102128] Bluetooth: hci0: Failed to send wmt func ctrl (-110) [ 15.917971] usb 5-4: Failed to suspend device, error -110 ... disable bluetooth echo \"blacklist btusb\" > /etc/modprobe.d/bluetooth.conf echo \"blacklist btrtl\" >> /etc/modprobe.d/bluetooth.conf echo \"blacklist btbcm\" >> /etc/modprobe.d/bluetooth.conf echo \"blacklist btintel\" >> /etc/modprobe.d/bluetooth.conf echo \"blacklist bluetooth\" >> /etc/modprobe.d/bluetooth.conf","title":"4.2 bluetooth errors"},{"location":"proxmox/#43-sound-errors","text":"dmesg error on boot ... [ 3.082545] snd_hda_intel 0000:06:00.6: no codecs found! ... disable sound echo \"blacklist btusb\" > /etc/modprobe.d/bluetooth.conf","title":"4.3 sound errors"},{"location":"proxmox/#44-zfs-errors","text":"dmesg error on boot ... [DEPEND] Dependency failed for Import ZFS pools by cache file [DEPEND] Dependency failed for Import ZFS pools by device scanning. ... disable service systemctl disable zfs-import-cache.service systemctl disable zfs-import-scan","title":"4.4 zfs errors"},{"location":"proxmox/#45-kvm-exiting-hardware-virtualization","text":"install latest kernel + kernel-headers apt install pve-kernel-5.15 pve-kernel-5.15.35-2-pve pve-headers-5.15.35-2-pve pve-headrs-5.15","title":"4.5 kvm: exiting hardware virtualization"},{"location":"proxmox/#46-no-network-after-update","text":"you probably updated your kernel but forgot to install kernel-headers apt install pve-kernel-5.15.12-1-pve","title":"4.6 no network after update"},{"location":"proxmox/#499-prevent-etcnetworkinterfaces-inside-vmlxc-from-overwrite","text":"if your /etc/network/interfaces inside a VM/LXC gets overwritten by proxmox, do inside your VM/LXC: touch /etc/network/.pve-ignore.interfaces","title":"4.99 prevent /etc/network/interfaces inside VM/LXC from overwrite"},{"location":"proxmox/#4100-lxc-slow-boot-times","text":"if your LXC Container boots only in about 4-5 mins -> switch IPv6 from DHCP to SLAAC","title":"4.100 (LXC) slow boot times"},{"location":"proxmox/#5-update-pve","text":"DO NOT just simple apt update && apt upgrade -y you will run into error 4.6! if the kernel will be updated! you need to install the new pve-headers before updating your kernel! apt update && apt upgrade # abort here with CTRL-C # check if the kernel will be updated # remember the new kernel version # apt install pve-headers-<enter new kernel version here>-pve apt install pve-headers-5.15.35-2-pve apt update && apt upgrade -y # now you need to change the kernel boot version (see 2.7) proxmox-boot-tool kernel list # check which kernel is listet under Manually selected kernels: proxmox-boot-tool kernel add <new-kernel-version>-pve # for example: # proxmox-boot-tool kernel add 5.15.35-2-pve proxmox-boot-tool kernel remove <old-kernel-version>-pve # for example: # proxmox-boot-tool kernel remove 5.15.35-1-pve proxmox-boot-tool refresh","title":"5. update pve"},{"location":"proxmox/#6-resize-container","text":"VMID: 110 size: 1T # get VMID from your container (e.g.: 110): pct list # stop the vm pct stop 110 # resize vm # pct resize <VMID> <disk> <size> pct resize 110 rootfs 1T # DONE! # ----- # To do it by hand: # get the path of the container disk (e.g.: /dev/pve/vm-110-disk-0): lvdisplay | grep \"LV Path\\|LV Size\" # check the disk first # e2fsck -f <disk> e2fsck -f /dev/pve/vm-210-disk-0 # resize the disk # resize2fs <disk> <size> resize2fs /dev/pve/vm-210-disk-0 1T # extend/reduce the LV size # lvreduce -L <size> <path> # lvextend -L <size> <path> lvextend -L 1T /dev/pve/vm-210-disk-0 # check if the size has changed in the container config file: vi /etc/pve/lxc/110.conf # rootfs: local-lvm:vm-110-disk-0,size=1T # start the vm pct start 110","title":"6. resize container"},{"location":"proxmox/#7-port-mirror","text":"see codingpackets.com/blog/proxmox-vm-bridge-port-mirror 7.1 install openvswitch-switch apt install openvswitch-switch wget 7.2 create /opt/scripts/network/mirror_ports.sh script mkdir -p /var/lib/vz/snippets/ wget https://raw.githubusercontent.com/3x3cut0r/vps/main/var/lib/vz/snippets/port-mirror.sh -O /var/lib/vz/snippets/port-mirror.sh chmod +x /var/lib/vz/snippets/port-mirror.sh 7.3 apply script to vm/lxc container # for lxc container id 100 pct set 100 --hookscript local:snippets/port-mirror.sh # for vm id 100 qm set 100 --hookscript local:snippets/port-mirror.sh","title":"7. port mirror"},{"location":"proxmox/#find-me","text":"GitHub DockerHub","title":"Find Me"},{"location":"proxmox/#license","text":"- This project is licensed under the GNU General Public License - see the gpl-3.0 for details.","title":"License"},{"location":"proxmox/hm90/","text":"proxmox all about proxmox installation and configuration Index prerequisites 0.1 BIOS options installation configuration (console) 2.1 first steps 2.2 install usefull tools 2.3 setup ntp server 2.4 setup dns server 2.5 remove subscription notice 2.6 install kernel-headers 2.7 change kernel boot version 2.8 enable iommu for pcie passthrough usage 3.1 browse errors 4.1 network won't start after reboot 4.2 bluetooth errors 4.3 sound errors 4.4 zfs errors 4.5 kvm: exiting hardware virtualization 4.6 no network after update 4.100 (LXC) slow boot times update pve resize container port mirror # Find Me # License 0. prerequisites 0.1 BIOS options ensure that this options are enabled: NX Mode SVM Mode IOMMU 1. installation see official documentation on pve.proxmox.com 2. configuration login via ssh (port 22) or do the steps nativ with a keyboard 2.1 first steps install pve-no-subscription repository skip this step if you have an enterprise subscription rm -f /etc/apt/sources.list.d/pve-enterprise.list wget https://raw.githubusercontent.com/3x3cut0r/vps/main/apt/sources.list.d/pve-no-subscription.list -O /etc/apt/sources.list.d/pve-no-subscription.list update packages apt update && apt upgrade -y 2.2 install usefull tools install pve-no-subscription repository apt install htop iperf iperf3 ncdu ntpdate rfkill 2.3 setup ntp server change /etc/chrony/chrony.conf ... # Use Debian vendor zone. # pool 2.debian.pool.ntp.org iburst server 0.de.pool.ntp.org iburst server 1.de.pool.ntp.org iburst server 2.de.pool.ntp.org iburst ... restart chrony systemctl restart chronyd 2.4 setup dns server change /etc/resolv.conf search local.net nameserver 1.1.1.1 nameserver 1.0.0.1 nameserver 2606:4700:4700::1111 2.5 remove subscription notice need to be done after every update from pve! remove the notice and restart the proxmox service cp /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js.bak sed -Ezi.bak \"s/(Ext.Msg.show\\(\\{\\s+title: gettext\\('No valid sub)/void\\(\\{ \\/\\/\\1/g\" /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js && systemctl restart pveproxy.service revert the changes if something went wrong cp /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js.bak /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js systemctl restart pveproxy.service 2.6 install kernel-headers the kernel-headers should match with your kernel version!!! apt install pve-headers-5.15 pve-headers-5.15.35-2-pve 2.7 change kernel boot version change which kernel should boot proxmox-boot-tool kernel list proxmox-boot-tool kernel add 5.15.35-2-pve # proxmox-boot-tool kernel remove <old-kernel-version>-pve proxmox-boot-tool refresh 2.8 enable iommu for pcie passthrough follow instructions on proxmox.com/wiki and thomas-krenn.com 3. usage 3.1 browse Backend https://proxmox.ip:8006/ 4. errors 4.1 network won't start after reboot systemctl mask ifupdown-pre.service systemctl mask ifupdown2-pre.service systemctl mask systemd-udev-settle.service 4.2 bluetooth errors dmesg error on boot ... [ 3.080602] bluetooth hci0: Direct firmware load for mediatek/BT_RAM_CODE_MT7961_1_2_hdr.bin failed with error -2 [ 3.081688] Bluetooth: hci0: Failed to load firmware file (-2) ... [ 13.102071] Bluetooth: hci0: Execution of wmt command timed out [ 13.102128] Bluetooth: hci0: Failed to send wmt func ctrl (-110) [ 15.917971] usb 5-4: Failed to suspend device, error -110 ... disable bluetooth echo \"blacklist btusb\" > /etc/modprobe.d/bluetooth.conf echo \"blacklist btrtl\" >> /etc/modprobe.d/bluetooth.conf echo \"blacklist btbcm\" >> /etc/modprobe.d/bluetooth.conf echo \"blacklist btintel\" >> /etc/modprobe.d/bluetooth.conf echo \"blacklist bluetooth\" >> /etc/modprobe.d/bluetooth.conf 4.3 sound errors dmesg error on boot ... [ 3.082545] snd_hda_intel 0000:06:00.6: no codecs found! ... disable sound echo \"blacklist btusb\" > /etc/modprobe.d/bluetooth.conf 4.4 zfs errors dmesg error on boot ... [DEPEND] Dependency failed for Import ZFS pools by cache file [DEPEND] Dependency failed for Import ZFS pools by device scanning. ... disable service systemctl disable zfs-import-cache.service systemctl disable zfs-import-scan 4.5 kvm: exiting hardware virtualization install latest kernel + kernel-headers apt install pve-kernel-5.15 pve-kernel-5.15.35-2-pve pve-headers-5.15.35-2-pve pve-headrs-5.15 4.6 no network after update you probably updated your kernel but forgot to install kernel-headers apt install pve-kernel-5.15.12-1-pve 4.99 prevent /etc/network/interfaces inside VM/LXC from overwrite if your /etc/network/interfaces inside a VM/LXC gets overwritten by proxmox, do inside your VM/LXC: touch /etc/network/.pve-ignore.interfaces 4.100 (LXC) slow boot times if your LXC Container boots only in about 4-5 mins -> switch IPv6 from DHCP to SLAAC 5. update pve DO NOT just simple apt update && apt upgrade -y you will run into error 4.6! if the kernel will be updated! you need to install the new pve-headers before updating your kernel! apt update && apt upgrade # abort here with CTRL-C # check if the kernel will be updated # remember the new kernel version # apt install pve-headers-<enter new kernel version here>-pve apt install pve-headers-5.15.35-2-pve apt update && apt upgrade -y # now you need to change the kernel boot version (see 2.7) proxmox-boot-tool kernel list # check which kernel is listet under Manually selected kernels: proxmox-boot-tool kernel add <new-kernel-version>-pve # for example: # proxmox-boot-tool kernel add 5.15.35-2-pve proxmox-boot-tool kernel remove <old-kernel-version>-pve # for example: # proxmox-boot-tool kernel remove 5.15.35-1-pve proxmox-boot-tool refresh 6. resize container VMID: 110 size: 1T # get VMID from your container (e.g.: 110): pct list # stop the vm pct stop 110 # resize vm # pct resize <VMID> <disk> <size> pct resize 110 rootfs 1T # DONE! # ----- # To do it by hand: # get the path of the container disk (e.g.: /dev/pve/vm-110-disk-0): lvdisplay | grep \"LV Path\\|LV Size\" # check the disk first # e2fsck -f <disk> e2fsck -f /dev/pve/vm-210-disk-0 # resize the disk # resize2fs <disk> <size> resize2fs /dev/pve/vm-210-disk-0 1T # extend/reduce the LV size # lvreduce -L <size> <path> # lvextend -L <size> <path> lvextend -L 1T /dev/pve/vm-210-disk-0 # check if the size has changed in the container config file: vi /etc/pve/lxc/110.conf # rootfs: local-lvm:vm-110-disk-0,size=1T # start the vm pct start 110 7. port mirror see codingpackets.com/blog/proxmox-vm-bridge-port-mirror 7.1 install openvswitch-switch apt install openvswitch-switch wget 7.2 create /opt/scripts/network/mirror_ports.sh script mkdir -p /var/lib/vz/snippets/ wget https://raw.githubusercontent.com/3x3cut0r/vps/main/var/lib/vz/snippets/port-mirror.sh -O /var/lib/vz/snippets/port-mirror.sh chmod +x /var/lib/vz/snippets/port-mirror.sh 7.3 apply script to vm/lxc container # for lxc container id 100 pct set 100 --hookscript local:snippets/port-mirror.sh # for vm id 100 qm set 100 --hookscript local:snippets/port-mirror.sh Find Me GitHub DockerHub License - This project is licensed under the GNU General Public License - see the gpl-3.0 for details.","title":"Minisforum HM90"},{"location":"proxmox/hm90/#proxmox","text":"all about proxmox installation and configuration","title":"proxmox"},{"location":"proxmox/hm90/#index","text":"prerequisites 0.1 BIOS options installation configuration (console) 2.1 first steps 2.2 install usefull tools 2.3 setup ntp server 2.4 setup dns server 2.5 remove subscription notice 2.6 install kernel-headers 2.7 change kernel boot version 2.8 enable iommu for pcie passthrough usage 3.1 browse errors 4.1 network won't start after reboot 4.2 bluetooth errors 4.3 sound errors 4.4 zfs errors 4.5 kvm: exiting hardware virtualization 4.6 no network after update 4.100 (LXC) slow boot times update pve resize container port mirror # Find Me # License","title":"Index"},{"location":"proxmox/hm90/#0-prerequisites","text":"","title":"0. prerequisites"},{"location":"proxmox/hm90/#01-bios-options","text":"ensure that this options are enabled: NX Mode SVM Mode IOMMU","title":"0.1 BIOS options"},{"location":"proxmox/hm90/#1-installation","text":"see official documentation on pve.proxmox.com","title":"1. installation"},{"location":"proxmox/hm90/#2-configuration","text":"login via ssh (port 22) or do the steps nativ with a keyboard","title":"2. configuration"},{"location":"proxmox/hm90/#21-first-steps","text":"install pve-no-subscription repository skip this step if you have an enterprise subscription rm -f /etc/apt/sources.list.d/pve-enterprise.list wget https://raw.githubusercontent.com/3x3cut0r/vps/main/apt/sources.list.d/pve-no-subscription.list -O /etc/apt/sources.list.d/pve-no-subscription.list update packages apt update && apt upgrade -y","title":"2.1 first steps"},{"location":"proxmox/hm90/#22-install-usefull-tools","text":"install pve-no-subscription repository apt install htop iperf iperf3 ncdu ntpdate rfkill","title":"2.2 install usefull tools"},{"location":"proxmox/hm90/#23-setup-ntp-server","text":"change /etc/chrony/chrony.conf ... # Use Debian vendor zone. # pool 2.debian.pool.ntp.org iburst server 0.de.pool.ntp.org iburst server 1.de.pool.ntp.org iburst server 2.de.pool.ntp.org iburst ... restart chrony systemctl restart chronyd","title":"2.3 setup ntp server"},{"location":"proxmox/hm90/#24-setup-dns-server","text":"change /etc/resolv.conf search local.net nameserver 1.1.1.1 nameserver 1.0.0.1 nameserver 2606:4700:4700::1111","title":"2.4 setup dns server"},{"location":"proxmox/hm90/#25-remove-subscription-notice","text":"need to be done after every update from pve! remove the notice and restart the proxmox service cp /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js.bak sed -Ezi.bak \"s/(Ext.Msg.show\\(\\{\\s+title: gettext\\('No valid sub)/void\\(\\{ \\/\\/\\1/g\" /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js && systemctl restart pveproxy.service revert the changes if something went wrong cp /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js.bak /usr/share/javascript/proxmox-widget-toolkit/proxmoxlib.js systemctl restart pveproxy.service","title":"2.5 remove subscription notice"},{"location":"proxmox/hm90/#26-install-kernel-headers","text":"the kernel-headers should match with your kernel version!!! apt install pve-headers-5.15 pve-headers-5.15.35-2-pve","title":"2.6 install kernel-headers"},{"location":"proxmox/hm90/#27-change-kernel-boot-version","text":"change which kernel should boot proxmox-boot-tool kernel list proxmox-boot-tool kernel add 5.15.35-2-pve # proxmox-boot-tool kernel remove <old-kernel-version>-pve proxmox-boot-tool refresh","title":"2.7 change kernel boot version"},{"location":"proxmox/hm90/#28-enable-iommu-for-pcie-passthrough","text":"follow instructions on proxmox.com/wiki and thomas-krenn.com","title":"2.8 enable iommu for pcie passthrough"},{"location":"proxmox/hm90/#3-usage","text":"","title":"3. usage"},{"location":"proxmox/hm90/#31-browse","text":"Backend https://proxmox.ip:8006/","title":"3.1 browse"},{"location":"proxmox/hm90/#4-errors","text":"","title":"4. errors"},{"location":"proxmox/hm90/#41-network-wont-start-after-reboot","text":"systemctl mask ifupdown-pre.service systemctl mask ifupdown2-pre.service systemctl mask systemd-udev-settle.service","title":"4.1 network won't start after reboot"},{"location":"proxmox/hm90/#42-bluetooth-errors","text":"dmesg error on boot ... [ 3.080602] bluetooth hci0: Direct firmware load for mediatek/BT_RAM_CODE_MT7961_1_2_hdr.bin failed with error -2 [ 3.081688] Bluetooth: hci0: Failed to load firmware file (-2) ... [ 13.102071] Bluetooth: hci0: Execution of wmt command timed out [ 13.102128] Bluetooth: hci0: Failed to send wmt func ctrl (-110) [ 15.917971] usb 5-4: Failed to suspend device, error -110 ... disable bluetooth echo \"blacklist btusb\" > /etc/modprobe.d/bluetooth.conf echo \"blacklist btrtl\" >> /etc/modprobe.d/bluetooth.conf echo \"blacklist btbcm\" >> /etc/modprobe.d/bluetooth.conf echo \"blacklist btintel\" >> /etc/modprobe.d/bluetooth.conf echo \"blacklist bluetooth\" >> /etc/modprobe.d/bluetooth.conf","title":"4.2 bluetooth errors"},{"location":"proxmox/hm90/#43-sound-errors","text":"dmesg error on boot ... [ 3.082545] snd_hda_intel 0000:06:00.6: no codecs found! ... disable sound echo \"blacklist btusb\" > /etc/modprobe.d/bluetooth.conf","title":"4.3 sound errors"},{"location":"proxmox/hm90/#44-zfs-errors","text":"dmesg error on boot ... [DEPEND] Dependency failed for Import ZFS pools by cache file [DEPEND] Dependency failed for Import ZFS pools by device scanning. ... disable service systemctl disable zfs-import-cache.service systemctl disable zfs-import-scan","title":"4.4 zfs errors"},{"location":"proxmox/hm90/#45-kvm-exiting-hardware-virtualization","text":"install latest kernel + kernel-headers apt install pve-kernel-5.15 pve-kernel-5.15.35-2-pve pve-headers-5.15.35-2-pve pve-headrs-5.15","title":"4.5 kvm: exiting hardware virtualization"},{"location":"proxmox/hm90/#46-no-network-after-update","text":"you probably updated your kernel but forgot to install kernel-headers apt install pve-kernel-5.15.12-1-pve","title":"4.6 no network after update"},{"location":"proxmox/hm90/#499-prevent-etcnetworkinterfaces-inside-vmlxc-from-overwrite","text":"if your /etc/network/interfaces inside a VM/LXC gets overwritten by proxmox, do inside your VM/LXC: touch /etc/network/.pve-ignore.interfaces","title":"4.99 prevent /etc/network/interfaces inside VM/LXC from overwrite"},{"location":"proxmox/hm90/#4100-lxc-slow-boot-times","text":"if your LXC Container boots only in about 4-5 mins -> switch IPv6 from DHCP to SLAAC","title":"4.100 (LXC) slow boot times"},{"location":"proxmox/hm90/#5-update-pve","text":"DO NOT just simple apt update && apt upgrade -y you will run into error 4.6! if the kernel will be updated! you need to install the new pve-headers before updating your kernel! apt update && apt upgrade # abort here with CTRL-C # check if the kernel will be updated # remember the new kernel version # apt install pve-headers-<enter new kernel version here>-pve apt install pve-headers-5.15.35-2-pve apt update && apt upgrade -y # now you need to change the kernel boot version (see 2.7) proxmox-boot-tool kernel list # check which kernel is listet under Manually selected kernels: proxmox-boot-tool kernel add <new-kernel-version>-pve # for example: # proxmox-boot-tool kernel add 5.15.35-2-pve proxmox-boot-tool kernel remove <old-kernel-version>-pve # for example: # proxmox-boot-tool kernel remove 5.15.35-1-pve proxmox-boot-tool refresh","title":"5. update pve"},{"location":"proxmox/hm90/#6-resize-container","text":"VMID: 110 size: 1T # get VMID from your container (e.g.: 110): pct list # stop the vm pct stop 110 # resize vm # pct resize <VMID> <disk> <size> pct resize 110 rootfs 1T # DONE! # ----- # To do it by hand: # get the path of the container disk (e.g.: /dev/pve/vm-110-disk-0): lvdisplay | grep \"LV Path\\|LV Size\" # check the disk first # e2fsck -f <disk> e2fsck -f /dev/pve/vm-210-disk-0 # resize the disk # resize2fs <disk> <size> resize2fs /dev/pve/vm-210-disk-0 1T # extend/reduce the LV size # lvreduce -L <size> <path> # lvextend -L <size> <path> lvextend -L 1T /dev/pve/vm-210-disk-0 # check if the size has changed in the container config file: vi /etc/pve/lxc/110.conf # rootfs: local-lvm:vm-110-disk-0,size=1T # start the vm pct start 110","title":"6. resize container"},{"location":"proxmox/hm90/#7-port-mirror","text":"see codingpackets.com/blog/proxmox-vm-bridge-port-mirror 7.1 install openvswitch-switch apt install openvswitch-switch wget 7.2 create /opt/scripts/network/mirror_ports.sh script mkdir -p /var/lib/vz/snippets/ wget https://raw.githubusercontent.com/3x3cut0r/vps/main/var/lib/vz/snippets/port-mirror.sh -O /var/lib/vz/snippets/port-mirror.sh chmod +x /var/lib/vz/snippets/port-mirror.sh 7.3 apply script to vm/lxc container # for lxc container id 100 pct set 100 --hookscript local:snippets/port-mirror.sh # for vm id 100 qm set 100 --hookscript local:snippets/port-mirror.sh","title":"7. port mirror"},{"location":"proxmox/hm90/#find-me","text":"GitHub DockerHub","title":"Find Me"},{"location":"proxmox/hm90/#license","text":"- This project is licensed under the GNU General Public License - see the gpl-3.0 for details.","title":"License"},{"location":"services/FREEPBX/","text":"FreePBX FreePBX is a web-based open-source graphical user interface (GUI) that manages Asterisk, a voice over IP and telephony server. installation # Find Me # License 1. installation create lxc container with debian 11 template install with official documentation on wiki.freepbx.org/ Find Me * GitHub * DockerHub License - This project is licensed under the GNU General Public License - see the gpl-3.0 for details.","title":"freepbx"},{"location":"services/FREEPBX/#freepbx","text":"FreePBX is a web-based open-source graphical user interface (GUI) that manages Asterisk, a voice over IP and telephony server. installation # Find Me # License","title":"FreePBX"},{"location":"services/FREEPBX/#1-installation","text":"create lxc container with debian 11 template install with official documentation on wiki.freepbx.org/","title":"1. installation"},{"location":"services/FREEPBX/#find-me","text":"* GitHub * DockerHub","title":"Find Me"},{"location":"services/FREEPBX/#license","text":"- This project is licensed under the GNU General Public License - see the gpl-3.0 for details.","title":"License"},{"location":"services/PIHOLE/","text":"pihole pihole installation inside a unprivileged LXC-Container Index create LXC-Container installation 2.1 prerequisites 2.2 installation 2.3 change pihole password 2.4 cloudflare DNS over HTTPS configuration 3.1 add groups 3.2 add lists usage 4.1 browse errors 5.1 installation error # Find Me # License 1. create LXC-Container create a LXC-Container: - unprivileged = 1 - nesting = 1 - template = debian-11-standard - disk-space = 30GiB - cpu-cores = 1 - ram = 512 MiB - swap = 0 MiB - IPv4 = static (set ip + gw) - IPv6 = SLAAC - dns-domain = local.lan - dns-server = 1.1.1.1 2. installation 2.1 prerequisites apt update && apt upgrade -y apt install curl -y 2.2 installation curl -sSL https://install.pi-hole.net | bash chown -R pihole:pihole /etc/pihole 2.3 change pihole password pihole -a -p 2.4 cloudflare DNS over HTTPS cd /usr/local/bin wget https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-amd64 mv cloudflared-linux-amd64 cloudflared sudo useradd -s /usr/sbin/nologin -r -M cloudflared echo -e \"# Commandline args for cloudflared\" > /etc/default/cloudflared echo -e \"CLOUDFLARED_OPTS=--port 5053 --upstream https://1.1.1.1/dns-query --upstream https://1.0.0.1/dns-query\" >> /etc/default/cloudflared sudo chmod +x /usr/local/bin/cloudflared sudo chown cloudflared:cloudflared /etc/default/cloudflared sudo chown cloudflared:cloudflared /usr/local/bin/cloudflared wget https://raw.githubusercontent.com/3x3cut0r/vps/main/lxc/pihole/lib/systemd/system/cloudflared.service -O /lib/systemd/system/cloudflared.service sudo systemctl enable cloudflared sudo systemctl start cloudflared sudo systemctl status cloudflared test dns dig @127.0.0.1 -p 5053 google.com 3. configuration list tables sudo sqlite3 /etc/pihole/gravity.db .tables 3.1 add groups groups for blocklistproject sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (100, 1, 'Abuse', 'BlockListProject');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (101, 1, 'Ads', 'BlockListProject');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (102, 1, 'Basic', 'BlockListProject');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (103, 1, 'Crypto', 'BlockListProject');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (104, 1, 'Drugs', 'BlockListProject');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (105, 1, 'Facebook', 'BlockListProject');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (106, 1, 'Fraud', 'BlockListProject');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (107, 1, 'Gambling', 'BlockListProject');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (108, 1, 'Malware', 'BlockListProject');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (109, 1, 'Phishing', 'BlockListProject');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (110, 1, 'Piracy', 'BlockListProject');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (111, 1, 'Porn', 'BlockListProject');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (112, 1, 'Ransomware', 'BlockListProject');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (113, 1, 'Redirect', 'BlockListProject');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (114, 1, 'Scam', 'BlockListProject');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (115, 1, 'Smart-TV', 'BlockListProject');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (116, 1, 'Tiktok', 'BlockListProject');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (117, 1, 'Torrent', 'BlockListProject');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (118, 1, 'Tracking', 'BlockListProject');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (119, 1, 'Twitter', 'BlockListProject');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (120, 1, 'Vaping', 'BlockListProject');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (121, 1, 'Whatsapp', 'BlockListProject');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (122, 1, 'Youtube', 'BlockListProject');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (199, 1, 'Everything', 'BlockListProject');\" groups for firebog sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (200, 1, 'All_Tick', 'Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (201, 1, 'All_Tick_Nocross', 'Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (202, 1, 'All_Tick_Nocross_Cross', 'Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (210, 1, 'Advertising_Tick', 'Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (211, 1, 'Suspicious_Tick', 'Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (212, 1, 'Malicious_Tick', 'Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (213, 1, 'Tracking_and_Telemetry_Tick', 'Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (214, 1, 'Other_Tick', 'Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (215, 1, 'Advertising_Nocross', 'Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (216, 1, 'Suspicious_Nocross', 'Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (217, 1, 'Malicious_Nocross', 'Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (218, 1, 'Tracking_and_Telemetry_Nocross', 'Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (219, 1, 'Other_Nocross', 'Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (220, 1, 'Advertising_Cross', 'Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (221, 1, 'Suspicious_Cross', 'Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (222, 1, 'Malicious_Cross', 'Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (223, 1, 'Tracking_and_Telemetry_Cross', 'Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (224, 1, 'Other_Cross', 'Firebog');\" groups for 3x3cut0r's lists sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (330, 1, 'Filehoster Whitelists', '3x3cut0r');\" 3.2 add lists adlists from blocklistproject sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (100, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/abuse.txt', 1, 'Abuse (BlockListProject)');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (101, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/ads.txt', 1, 'Ads (BlockListProject)');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (102, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/basic.txt', 1, 'Basic (BlockListProject)');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (103, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/crypto.txt', 1, 'Crypto (BlockListProject)');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (104, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/drugs.txt', 1, 'Drugs (BlockListProject)');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (105, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/facebook.txt', 1, 'Facebook (BlockListProject)');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (106, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/fraud.txt', 1, 'Fraud (BlockListProject)');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (107, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/gambling.txt', 1, 'Gambling (BlockListProject)');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (108, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/malware.txt', 1, 'Malware (BlockListProject)');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (109, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/phishing.txt', 1, 'Phishing (BlockListProject)');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (110, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/piracy.txt', 1, 'Piracy (BlockListProject)');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (111, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/porn.txt', 1, 'Porn (BlockListProject)');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (112, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/ransomware.txt', 1, 'Ransomware (BlockListProject)');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (113, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/redirect.txt', 1, 'Redirect (BlockListProject)');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (114, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/scam.txt', 1, 'Scam (BlockListProject)');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (115, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/smart-tv.txt', 1, 'Smart-TV (BlockListProject)');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (116, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/tiktok.txt', 1, 'Tiktok (BlockListProject)');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (117, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/torrent.txt', 1, 'Torrent (BlockListProject)');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (118, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/tracking.txt', 1, 'Tracking (BlockListProject)');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (119, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/twitter.txt', 1, 'Twitter (BlockListProject)');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (120, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/vaping.txt', 1, 'Vaping (BlockListProject)');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (121, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/whatsapp.txt', 1, 'Whatsapp (BlockListProject)');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (122, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/youtube.txt', 1, 'Youtube (BlockListProject)');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (199, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/everything.txt', 1, 'Everything (BlockListProject)');\" pihole -g adlists from blocklistproject sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (200, 'https://raw.githubusercontent.com/3x3cut0r/pihole/main/blacklists/firebog_tick.list', 1, 'All_Tick_Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (201, 'https://raw.githubusercontent.com/3x3cut0r/pihole/main/blacklists/firebog_nocross.list', 1, 'All_Tick_Nocross_Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (202, 'https://raw.githubusercontent.com/3x3cut0r/pihole/main/blacklists/firebog_all.list', 1, 'All_Tick_Nocross_Cross_Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (210, 'https://raw.githubusercontent.com/3x3cut0r/pihole/main/blacklists/firebog_advertising_tick.list', 1, 'Advertising_Tick_Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (211, 'https://raw.githubusercontent.com/3x3cut0r/pihole/main/blacklists/firebog_suspicious_tick.list', 1, 'Suspicious_Tick_Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (212, 'https://raw.githubusercontent.com/3x3cut0r/pihole/main/blacklists/firebog_malicious_tick.list', 1, 'Malicious_Tick_Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (213, 'https://raw.githubusercontent.com/3x3cut0r/pihole/main/blacklists/firebog_tracking_and_telemetry_tick.list', 1, 'Tracking & Telemetry_Tick_Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (214, 'https://raw.githubusercontent.com/3x3cut0r/pihole/main/blacklists/firebog_other_tick.list', 1, 'Other_Tick_Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (215, 'https://raw.githubusercontent.com/3x3cut0r/pihole/main/blacklists/firebog_advertising_nocross.list', 1, 'Advertising_Nocross_Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (216, 'https://raw.githubusercontent.com/3x3cut0r/pihole/main/blacklists/firebog_suspicious_nocross.list', 1, 'Suspicious_Nocross_Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (217, 'https://raw.githubusercontent.com/3x3cut0r/pihole/main/blacklists/firebog_malicious_nocross.list', 1, 'Malicious_Nocross_Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (218, 'https://raw.githubusercontent.com/3x3cut0r/pihole/main/blacklists/firebog_tracking_and_telemetry_nocross.list', 1, 'Tracking _and_Telemetry_Nocross_Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (219, 'https://raw.githubusercontent.com/3x3cut0r/pihole/main/blacklists/firebog_other_nocross.list', 1, 'Other_Nocross_Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (220, 'https://raw.githubusercontent.com/3x3cut0r/pihole/main/blacklists/firebog_advertising_cross.list', 1, 'Advertising_Cross_Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (221, 'https://raw.githubusercontent.com/3x3cut0r/pihole/main/blacklists/firebog_suspicious_cross.list', 1, 'Suspicious_Cross_Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (222, 'https://raw.githubusercontent.com/3x3cut0r/pihole/main/blacklists/firebog_malicious_cross.list', 1, 'Malicious_Cross_Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (223, 'https://raw.githubusercontent.com/3x3cut0r/pihole/main/blacklists/firebog_tracking_and_telemetry_cross.list', 1, 'Tracking & Telemetry_Cross_Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (224, 'https://raw.githubusercontent.com/3x3cut0r/pihole/main/blacklists/firebog_other_cross.list', 1, 'Other_Cross_Firebog');\" pihole -g 3.3 update adlist_by_group assign blacklistproject lists to groups sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=100 WHERE adlist_id=100;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=101 WHERE adlist_id=101;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=102 WHERE adlist_id=102;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=103 WHERE adlist_id=103;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=104 WHERE adlist_id=104;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=105 WHERE adlist_id=105;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=106 WHERE adlist_id=106;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=107 WHERE adlist_id=107;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=108 WHERE adlist_id=108;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=109 WHERE adlist_id=109;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=110 WHERE adlist_id=110;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=111 WHERE adlist_id=111;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=112 WHERE adlist_id=112;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=113 WHERE adlist_id=113;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=114 WHERE adlist_id=114;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=115 WHERE adlist_id=115;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=116 WHERE adlist_id=116;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=117 WHERE adlist_id=117;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=118 WHERE adlist_id=118;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=119 WHERE adlist_id=119;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=120 WHERE adlist_id=120;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=121 WHERE adlist_id=121;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=122 WHERE adlist_id=122;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=199 WHERE adlist_id=199;\" assign firebog lists to groups sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=200 WHERE adlist_id=200;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=201 WHERE adlist_id=201;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=202 WHERE adlist_id=202;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=210 WHERE adlist_id=210;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=211 WHERE adlist_id=211;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=212 WHERE adlist_id=212;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=213 WHERE adlist_id=213;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=214 WHERE adlist_id=214;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=215 WHERE adlist_id=215;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=216 WHERE adlist_id=216;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=217 WHERE adlist_id=217;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=218 WHERE adlist_id=218;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=219 WHERE adlist_id=219;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=220 WHERE adlist_id=220;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=221 WHERE adlist_id=221;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=222 WHERE adlist_id=222;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=223 WHERE adlist_id=223;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=224 WHERE adlist_id=224;\" 4. usage 4.1 browse Backend https://pihole.ip/admin 5. errors 5.1 installation error [\u2717] Unable to build gravity tree in /etc/pihole/gravity.db_temp Error: no such table: main.gravity sudo rm /etc/pihole/gravity.db pihole -r Find Me * GitHub * DockerHub License - This project is licensed under the GNU General Public License - see the gpl-3.0 for details.","title":"pihole"},{"location":"services/PIHOLE/#pihole","text":"pihole installation inside a unprivileged LXC-Container","title":"pihole"},{"location":"services/PIHOLE/#index","text":"create LXC-Container installation 2.1 prerequisites 2.2 installation 2.3 change pihole password 2.4 cloudflare DNS over HTTPS configuration 3.1 add groups 3.2 add lists usage 4.1 browse errors 5.1 installation error # Find Me # License","title":"Index"},{"location":"services/PIHOLE/#1-create-lxc-container","text":"create a LXC-Container: - unprivileged = 1 - nesting = 1 - template = debian-11-standard - disk-space = 30GiB - cpu-cores = 1 - ram = 512 MiB - swap = 0 MiB - IPv4 = static (set ip + gw) - IPv6 = SLAAC - dns-domain = local.lan - dns-server = 1.1.1.1","title":"1. create LXC-Container"},{"location":"services/PIHOLE/#2-installation","text":"","title":"2. installation"},{"location":"services/PIHOLE/#21-prerequisites","text":"apt update && apt upgrade -y apt install curl -y","title":"2.1 prerequisites"},{"location":"services/PIHOLE/#22-installation","text":"curl -sSL https://install.pi-hole.net | bash chown -R pihole:pihole /etc/pihole","title":"2.2 installation"},{"location":"services/PIHOLE/#23-change-pihole-password","text":"pihole -a -p","title":"2.3 change pihole password"},{"location":"services/PIHOLE/#24-cloudflare-dns-over-https","text":"cd /usr/local/bin wget https://github.com/cloudflare/cloudflared/releases/latest/download/cloudflared-linux-amd64 mv cloudflared-linux-amd64 cloudflared sudo useradd -s /usr/sbin/nologin -r -M cloudflared echo -e \"# Commandline args for cloudflared\" > /etc/default/cloudflared echo -e \"CLOUDFLARED_OPTS=--port 5053 --upstream https://1.1.1.1/dns-query --upstream https://1.0.0.1/dns-query\" >> /etc/default/cloudflared sudo chmod +x /usr/local/bin/cloudflared sudo chown cloudflared:cloudflared /etc/default/cloudflared sudo chown cloudflared:cloudflared /usr/local/bin/cloudflared wget https://raw.githubusercontent.com/3x3cut0r/vps/main/lxc/pihole/lib/systemd/system/cloudflared.service -O /lib/systemd/system/cloudflared.service sudo systemctl enable cloudflared sudo systemctl start cloudflared sudo systemctl status cloudflared test dns dig @127.0.0.1 -p 5053 google.com","title":"2.4 cloudflare DNS over HTTPS"},{"location":"services/PIHOLE/#3-configuration","text":"list tables sudo sqlite3 /etc/pihole/gravity.db .tables","title":"3. configuration"},{"location":"services/PIHOLE/#31-add-groups","text":"groups for blocklistproject sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (100, 1, 'Abuse', 'BlockListProject');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (101, 1, 'Ads', 'BlockListProject');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (102, 1, 'Basic', 'BlockListProject');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (103, 1, 'Crypto', 'BlockListProject');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (104, 1, 'Drugs', 'BlockListProject');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (105, 1, 'Facebook', 'BlockListProject');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (106, 1, 'Fraud', 'BlockListProject');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (107, 1, 'Gambling', 'BlockListProject');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (108, 1, 'Malware', 'BlockListProject');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (109, 1, 'Phishing', 'BlockListProject');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (110, 1, 'Piracy', 'BlockListProject');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (111, 1, 'Porn', 'BlockListProject');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (112, 1, 'Ransomware', 'BlockListProject');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (113, 1, 'Redirect', 'BlockListProject');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (114, 1, 'Scam', 'BlockListProject');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (115, 1, 'Smart-TV', 'BlockListProject');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (116, 1, 'Tiktok', 'BlockListProject');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (117, 1, 'Torrent', 'BlockListProject');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (118, 1, 'Tracking', 'BlockListProject');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (119, 1, 'Twitter', 'BlockListProject');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (120, 1, 'Vaping', 'BlockListProject');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (121, 1, 'Whatsapp', 'BlockListProject');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (122, 1, 'Youtube', 'BlockListProject');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (199, 1, 'Everything', 'BlockListProject');\" groups for firebog sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (200, 1, 'All_Tick', 'Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (201, 1, 'All_Tick_Nocross', 'Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (202, 1, 'All_Tick_Nocross_Cross', 'Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (210, 1, 'Advertising_Tick', 'Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (211, 1, 'Suspicious_Tick', 'Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (212, 1, 'Malicious_Tick', 'Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (213, 1, 'Tracking_and_Telemetry_Tick', 'Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (214, 1, 'Other_Tick', 'Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (215, 1, 'Advertising_Nocross', 'Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (216, 1, 'Suspicious_Nocross', 'Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (217, 1, 'Malicious_Nocross', 'Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (218, 1, 'Tracking_and_Telemetry_Nocross', 'Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (219, 1, 'Other_Nocross', 'Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (220, 1, 'Advertising_Cross', 'Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (221, 1, 'Suspicious_Cross', 'Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (222, 1, 'Malicious_Cross', 'Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (223, 1, 'Tracking_and_Telemetry_Cross', 'Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (224, 1, 'Other_Cross', 'Firebog');\" groups for 3x3cut0r's lists sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO 'group' (id, enabled, name, description) VALUES (330, 1, 'Filehoster Whitelists', '3x3cut0r');\"","title":"3.1 add groups"},{"location":"services/PIHOLE/#32-add-lists","text":"adlists from blocklistproject sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (100, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/abuse.txt', 1, 'Abuse (BlockListProject)');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (101, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/ads.txt', 1, 'Ads (BlockListProject)');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (102, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/basic.txt', 1, 'Basic (BlockListProject)');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (103, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/crypto.txt', 1, 'Crypto (BlockListProject)');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (104, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/drugs.txt', 1, 'Drugs (BlockListProject)');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (105, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/facebook.txt', 1, 'Facebook (BlockListProject)');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (106, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/fraud.txt', 1, 'Fraud (BlockListProject)');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (107, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/gambling.txt', 1, 'Gambling (BlockListProject)');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (108, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/malware.txt', 1, 'Malware (BlockListProject)');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (109, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/phishing.txt', 1, 'Phishing (BlockListProject)');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (110, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/piracy.txt', 1, 'Piracy (BlockListProject)');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (111, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/porn.txt', 1, 'Porn (BlockListProject)');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (112, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/ransomware.txt', 1, 'Ransomware (BlockListProject)');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (113, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/redirect.txt', 1, 'Redirect (BlockListProject)');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (114, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/scam.txt', 1, 'Scam (BlockListProject)');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (115, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/smart-tv.txt', 1, 'Smart-TV (BlockListProject)');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (116, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/tiktok.txt', 1, 'Tiktok (BlockListProject)');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (117, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/torrent.txt', 1, 'Torrent (BlockListProject)');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (118, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/tracking.txt', 1, 'Tracking (BlockListProject)');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (119, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/twitter.txt', 1, 'Twitter (BlockListProject)');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (120, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/vaping.txt', 1, 'Vaping (BlockListProject)');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (121, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/whatsapp.txt', 1, 'Whatsapp (BlockListProject)');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (122, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/youtube.txt', 1, 'Youtube (BlockListProject)');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (199, 'https://raw.githubusercontent.com/blocklistproject/Lists/master/everything.txt', 1, 'Everything (BlockListProject)');\" pihole -g adlists from blocklistproject sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (200, 'https://raw.githubusercontent.com/3x3cut0r/pihole/main/blacklists/firebog_tick.list', 1, 'All_Tick_Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (201, 'https://raw.githubusercontent.com/3x3cut0r/pihole/main/blacklists/firebog_nocross.list', 1, 'All_Tick_Nocross_Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (202, 'https://raw.githubusercontent.com/3x3cut0r/pihole/main/blacklists/firebog_all.list', 1, 'All_Tick_Nocross_Cross_Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (210, 'https://raw.githubusercontent.com/3x3cut0r/pihole/main/blacklists/firebog_advertising_tick.list', 1, 'Advertising_Tick_Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (211, 'https://raw.githubusercontent.com/3x3cut0r/pihole/main/blacklists/firebog_suspicious_tick.list', 1, 'Suspicious_Tick_Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (212, 'https://raw.githubusercontent.com/3x3cut0r/pihole/main/blacklists/firebog_malicious_tick.list', 1, 'Malicious_Tick_Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (213, 'https://raw.githubusercontent.com/3x3cut0r/pihole/main/blacklists/firebog_tracking_and_telemetry_tick.list', 1, 'Tracking & Telemetry_Tick_Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (214, 'https://raw.githubusercontent.com/3x3cut0r/pihole/main/blacklists/firebog_other_tick.list', 1, 'Other_Tick_Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (215, 'https://raw.githubusercontent.com/3x3cut0r/pihole/main/blacklists/firebog_advertising_nocross.list', 1, 'Advertising_Nocross_Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (216, 'https://raw.githubusercontent.com/3x3cut0r/pihole/main/blacklists/firebog_suspicious_nocross.list', 1, 'Suspicious_Nocross_Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (217, 'https://raw.githubusercontent.com/3x3cut0r/pihole/main/blacklists/firebog_malicious_nocross.list', 1, 'Malicious_Nocross_Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (218, 'https://raw.githubusercontent.com/3x3cut0r/pihole/main/blacklists/firebog_tracking_and_telemetry_nocross.list', 1, 'Tracking _and_Telemetry_Nocross_Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (219, 'https://raw.githubusercontent.com/3x3cut0r/pihole/main/blacklists/firebog_other_nocross.list', 1, 'Other_Nocross_Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (220, 'https://raw.githubusercontent.com/3x3cut0r/pihole/main/blacklists/firebog_advertising_cross.list', 1, 'Advertising_Cross_Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (221, 'https://raw.githubusercontent.com/3x3cut0r/pihole/main/blacklists/firebog_suspicious_cross.list', 1, 'Suspicious_Cross_Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (222, 'https://raw.githubusercontent.com/3x3cut0r/pihole/main/blacklists/firebog_malicious_cross.list', 1, 'Malicious_Cross_Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (223, 'https://raw.githubusercontent.com/3x3cut0r/pihole/main/blacklists/firebog_tracking_and_telemetry_cross.list', 1, 'Tracking & Telemetry_Cross_Firebog');\" sudo sqlite3 /etc/pihole/gravity.db \"INSERT INTO adlist (id, address, enabled, comment) VALUES (224, 'https://raw.githubusercontent.com/3x3cut0r/pihole/main/blacklists/firebog_other_cross.list', 1, 'Other_Cross_Firebog');\" pihole -g","title":"3.2 add lists"},{"location":"services/PIHOLE/#33-update-adlist_by_group","text":"assign blacklistproject lists to groups sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=100 WHERE adlist_id=100;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=101 WHERE adlist_id=101;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=102 WHERE adlist_id=102;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=103 WHERE adlist_id=103;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=104 WHERE adlist_id=104;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=105 WHERE adlist_id=105;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=106 WHERE adlist_id=106;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=107 WHERE adlist_id=107;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=108 WHERE adlist_id=108;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=109 WHERE adlist_id=109;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=110 WHERE adlist_id=110;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=111 WHERE adlist_id=111;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=112 WHERE adlist_id=112;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=113 WHERE adlist_id=113;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=114 WHERE adlist_id=114;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=115 WHERE adlist_id=115;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=116 WHERE adlist_id=116;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=117 WHERE adlist_id=117;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=118 WHERE adlist_id=118;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=119 WHERE adlist_id=119;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=120 WHERE adlist_id=120;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=121 WHERE adlist_id=121;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=122 WHERE adlist_id=122;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=199 WHERE adlist_id=199;\" assign firebog lists to groups sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=200 WHERE adlist_id=200;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=201 WHERE adlist_id=201;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=202 WHERE adlist_id=202;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=210 WHERE adlist_id=210;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=211 WHERE adlist_id=211;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=212 WHERE adlist_id=212;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=213 WHERE adlist_id=213;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=214 WHERE adlist_id=214;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=215 WHERE adlist_id=215;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=216 WHERE adlist_id=216;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=217 WHERE adlist_id=217;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=218 WHERE adlist_id=218;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=219 WHERE adlist_id=219;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=220 WHERE adlist_id=220;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=221 WHERE adlist_id=221;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=222 WHERE adlist_id=222;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=223 WHERE adlist_id=223;\" sudo sqlite3 /etc/pihole/gravity.db \"UPDATE adlist_by_group SET group_id=224 WHERE adlist_id=224;\"","title":"3.3 update adlist_by_group"},{"location":"services/PIHOLE/#4-usage","text":"","title":"4. usage"},{"location":"services/PIHOLE/#41-browse","text":"Backend https://pihole.ip/admin","title":"4.1 browse"},{"location":"services/PIHOLE/#5-errors","text":"","title":"5. errors"},{"location":"services/PIHOLE/#51-installation-error","text":"[\u2717] Unable to build gravity tree in /etc/pihole/gravity.db_temp Error: no such table: main.gravity sudo rm /etc/pihole/gravity.db pihole -r","title":"5.1 installation error"},{"location":"services/PIHOLE/#find-me","text":"* GitHub * DockerHub","title":"Find Me"},{"location":"services/PIHOLE/#license","text":"- This project is licensed under the GNU General Public License - see the gpl-3.0 for details.","title":"License"}]}